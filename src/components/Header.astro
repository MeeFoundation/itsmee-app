---
import {
  Button,
  Input,
  Avatar,
  Switch,
  IconButton,
  ButtonLink,
} from "mee-components";
import ProfileModal from "@components/ProfileModal.astro";
---

<div
  class="flex w-full flex-col flex-wrap items-center justify-between gap-6 text-base font-semibold lg:flex-row"
>
  <div
    class="order-2 flex w-full flex-wrap items-start gap-4 self-start md:w-auto lg:order-none"
  >
    <Input
      id="search"
      label="Search"
      className="w-full md:!w-80"
      labelPosition="edge"
      autocomplete="off"
      leftIcon="search"
      required
      size="lg"
    />
    <div class="relative w-full md:w-auto">
      <Button
        id="open-filter-modal"
        leftIcon="filter !text-2xl"
        type="button"
        buttonType="tertiary"
        style="filled"
        rightIcon="chevron-down"
        className="w-full justify-between"
        size="l">Filter</Button
      >
      <div
        class="absolute left-0 top-14 z-100 hidden w-full flex-col items-start rounded-lg border border-solid border-brand-300 bg-white p-0 shadow-2 md:w-80"
        id="filter-modal"
      >
        <div class="w-full border-b border-gray-300 p-6 text-gray-800">
          <div class="flex h-14 cursor-pointer flex-row items-center gap-2">
            <Input
              label="Email"
              rightIcon="plus-lg"
              size="lg"
              id="email-input"
            />
          </div>
          <div class="flex h-14 cursor-pointer flex-row items-center gap-2">
            <Switch label="Password" id="password-check" />
          </div>
          <div class="flex h-14 cursor-pointer flex-row items-center gap-2">
            <Switch label="Phone" id="phone-check" />
          </div>
          <div class="flex h-14 cursor-pointer flex-row items-center gap-2">
            <Input label="Payment Details" rightIcon="plus-lg" size="lg" />
          </div>
        </div>
        <div
          class="flex w-full flex-col gap-3 border-b-gray-300 p-6 text-gray-800"
        >
          <Button size="m" id="filter">Apply Filters</Button>
          <Button size="m" buttonType="tertiary" id="clear-filter"
            >Clear All</Button
          >
        </div>
      </div>
    </div>
  </div>
  <div
    class="order-1 float-right flex w-full flex-shrink-0 flex-row justify-between gap-4 lg:order-none lg:w-auto"
  >
    <div class="">
      <ButtonLink
        href="#create-connection"
        type="button"
        className="hidden w-auto px-4 md:flex"
        leftIcon="plus-lg text-xl">Add connection</ButtonLink
      >
      <IconButton
        id="add-connection"
        type="button"
        className="w-auto px-4 md:hidden"
        icon="plus-lg text-xl"
      />
    </div>
    <div id="profile" class="self-end">
      <div
        class="flex h-11 flex-row items-center rounded-xl border border-solid border-gray-300 bg-gray-50 p-0"
      >
        <div
          class="flex h-full flex-row items-center justify-center gap-4 border-r border-solid border-gray-300 px-4"
        >
          <Avatar size="sm" id="profile-image-preview" isActive={true} />
          <p>Profile</p>
        </div>
        <div
          class="flex h-full cursor-pointer flex-row items-center justify-center px-4 transition-all data-[active]:rotate-180"
          id="open-profile-modal"
        >
          <i class="bi bi-chevron-down text-2xl"></i>
        </div>
      </div>
    </div>
  </div>
  <ProfileModal />
</div>
